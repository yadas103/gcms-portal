<!-- Home page -->
<div class="panel panel-primary">
	<div class="panel-heading">
		<h3 class="panel-title">Search Details</h3>
	</div>
	
	<div class="panel-body-con" id="pannel-search">
		<div ng-model="downloadMsg" style="color: green; font-size: 13px;"
			role="alert">{{msg}}</div>
		<div ng-model="msg" style="color: green; font-size: 13px;"
			role="alert">{{responseOnSave}}</div>
		<div ng-model="failuremsg" style="color: maroon; font-size: 13px;"
			role="alert">{{responseOnUnsave}}</div>
		<form name="requestSearchForm" class="form-horizontal"
			style="margin-right: -12px; margin-left: 32px;">
			<div class="container-fluid">
				<div class="row">
				<div ng-hide="true" class="col-sm-3" id="search-drop" style="margin-left: -63px;width: 264px;">
						<select ng-model="request.collectingCountry" class="drop-receipi"
							style="margin-left: 37px;" ng-disabled="readOnlyCC" required>
							<option value = "">Please select</option>
							<option ng-repeat="con in counties | filter:efpiaFilter " >{{con.name}}</option>
						</select>
						<label style="font-size: 12px;margin-left: 37px;"">Collecting Country</label><br>
					</div> 
					<div class="col-sm-3 form-group" id="search-drop">
						<select ng-model="request.country" class="drop-receipi"
							ng-disabled="readOnlyPC" title="Reporting Country" required>
							<option value = "">Please select</option>
							<option ng-repeat="rep in counties|filter : efpiaFilter" >{{rep.name}}</option>
						</select> <label style="font-size: 12px;margin-left: 3px;">Reporting Country</label><br>
					</div>
					<div class="col-sm-3 form-group" id="search-drop">
						<select ng-model="request.profileType" class="drop-receipi" title="Business Party Type" required>							 						
							<option ng-repeat="prof in profile_types">{{prof.name}}</option>
						</select>						
						<label style="font-size: 12px;margin-left: 2px;">Business Party Type</label><br>
					</div>
					<div class="col-sm-3 form-group" id="search-drop">
					<input type="text" class="form-control" id="firstName"
						ng-model="request.firstName" style="width: 264px; height: 25px;margin-left: -4px;" title="First Name">
					<label for="firstName" style="font-size: 12px;margin-left: -2px;">First Name</label><br>
				</div>
				<div class="col-sm-3 form-group" style="width: 264px; height: 25px;">
					<input type="text" class="form-control" id="address"
						ng-model="request.address"
						style="margin-left: 17px; margin-top: 6px; width: 264px;height: 25px;" title="Address"	>
					<label for="address" style="font-size: 12px;margin-left: 20px;">Address</label><br>
				</div>
				</div>
				<div class="row">
					<div class="col-sm-3 form-group" id="search-drop">
						<input type="text" class="form-control" id="lastName"
						ng-model="request.lastName" style="width: 250px;"> <label style="font-size: 12px;margin-left: 1px;" title="Last Name / Organization Name">Last Name / Organization Name</label><br>
					</div>
					<div class="col-sm-3 form-group" id="search-drop">
						<input type="text" class="form-control" id="city"
						ng-model="request.city" style="width:247px;"  title="City">						
						<label style="font-size: 12px;margin-left: 3px;">City</label><br>
					</div>
					<div class="col-sm-3 form-group" id="search-drop">
					<input type="text" class="form-control" id="speciality"
						ng-model="request.speciality" style="width: 264px; height: 25px;margin-left: -4px;" title="Speciality">
					<label for="Speciality" style="font-size: 12px;margin-left: -2px;">Speciality</label><br>
				</div>
				<div class="col-sm-3 form-group" style="width: 264px; height: 25px;">
				<select class="drop-receipi" style="width: 264px;margin-left: 19px;margin-top: 5px;" title="Template Type" ng-model="request.tmpl_id" ng-change="change()" ng-options="template.id as template.tmpl_name for template in templates | filter:templateFilter" style="width: 114px;"><option value="" ng-show="{{empty}}"></option></select>
				<label for="Template Type" style="font-size: 12px;margin-left: 19px;">Template Type</label><br>
				</div>
				</div>
				<div class="form-group">
				<button type="submit" class="btn btn-lg btn-default" ng-click="submit(request)" alt="Search" data-toggle="tooltip"
						data-placement="top" title="Search"
						ng-disabled="requestSearchForm.$invalid">
						Search</button>
					<span ng-show="!setDownload"> 
						<gcms-modal template="template.download.html"
							controller="ModalDefaultCtrl" ok="submittry" content="dataToSend" >
							<span class="btn btn-lg btn-default" role="button" data-toggle="tooltip"
							data-placement="top" title="Download Consent Annex Template" ng-click="list()" ng-disabled="setDownload" >Download </span></gcms-modal>
					</span> 
					<span ng-show="setDownload">
						<button type="submit" class="btn btn-lg btn-default" ng-click="" alt="Download" data-toggle="tooltip" data-placement="top"
							title="Download Consent Annex Template" ng-disabled="true">
							Download</button>
					</span> 
					<span class="create-button">
						<gcms-modal template="identity.request.html"
						controller="ModalDefaultCtrl" ok="create" content="profile">
					<a href="" ng-click="passCountryName()" title="Create request for missing profile"><i>Cannot find a profile? Create a request here</i></a></gcms-modal>
					</span>
				
			</div>
	</div>
	</form>
	
</div>

</div>
<div class="panel panel-primary">
	<table class="table table-hover ">
		<div class="table-responsive">
			<table st-table="profileSearchCopy" st-safe-src="profileSearch"
				st-reset="isReset"
				class="table table-bordered table-striped table-highlight">
				<thead>
					<tr style="color: white; background-color: #337ab7;">
						<th
							></th>
						<th 
							ng-hide = "true"
						    ng-click="orderByField='id'; reverseSort = !reverseSort"
							st-sort="id"
							style="width:77px;">TR
							ID</th>
						<th 
							ng-hide = "true"
							ng-click="orderByField='profileType'; reverseSort = !reverseSort"
							style="font-size: 13px; font-family: sans-serif;  width: 86px;"
							st-sort="profileType">Profile Type</th>
						<th ng-click="orderByField='lastName'; reverseSort = !reverseSort"
							st-sort="lastName"
							>Last Name</th>
						<th
							ng-click="orderByField='firstName'; reverseSort = !reverseSort"
							st-sort="firstName"
							>First Name</th>
						<th
							ng-click="orderByField='organisationName'; reverseSort = !reverseSort"
							st-sort="organisationName"
							>Organization Name</th>
						<th ng-click="orderByField='city'; reverseSort = !reverseSort"
							st-sort="city"
							>City
							Name</th>
						<th ng-click="orderByField='address'; reverseSort = !reverseSort"
							st-sort="address"
							>Address</th>
						<th
							ng-click="orderByField='speciality'; reverseSort = !reverseSort"
							st-sort="specialit"
							>Specialty</th>
						<th style="width:80px;">Consent History</th>
					</tr>
					<tr>
						<th></th>
						<th ng-hide = "true"><input ng-model="search.id" st-search="id"
							placeholder=" " class="form-control" type="search" /></th>
						<th ng-hide = "true"><input ng-model="search.profileType"
							st-search="profileType" placeholder=" " class="form-control"
							type="search" /></th>
						<th><input ng-model="search.lastName" st-search="lastName"
							placeholder=" " class="form-control" type="search" /></th>
						<th><input ng-model="search.firstName" st-search="firstName"
							placeholder=" " class="form-control" type="search" /></th>
						<th><input ng-model="search.organisationName"
							st-search="organisationName" placeholder=" " class="form-control"
							type="search" /></th>
						<th><input ng-model="search.city" st-search="city"
							placeholder=" " class="form-control" type="search" /></th>
						<th><input ng-model="search.address" st-search="address"
							placeholder=" " class="form-control" type="search" /></th>
						<th><input ng-model="search.speciality" st-search="speciality"
							placeholder=" " class="form-control" type="search" /></th>
						<th></th>
					</tr>
				</thead>
				<tbody>
					<tr
						data-ng-repeat="pro in profileSearchCopy | filter:search:strict | orderBy:orderByField:reverseSort">
						<td><input type="checkbox"
							ng-model="checkboxes.items[pro.id]" class="recipient-checkbox"></td>
						<td ng-hide = "true">{{pro.id}}</td>
						<td ng-hide = "true">{{pro.profileType}}</td>
						<td class="tasktd" title="{{pro.lastName}}">{{pro.lastName}}</td>
						<td class="tasktd" title="{{pro.firstName}}">{{pro.firstName}}</td>
						<td class="tasktd" title="{{pro.organisationName}}">{{pro.organisationName}}</td>
						<td class="tasktd" title="{{pro.city}}">{{pro.city}}</td>
						<td class="tasktd" title="{{pro.address}}">{{pro.address}}</td>
						<td class="tasktd" title="{{pro.speciality}}">{{pro.speciality}}</td>						
						<td style="text-align:center"><gcms-modal template="consentstatus.html"
						controller="ModalDefaultCtrl" resolve="" content="consentAttributes">
						<a href="" title="View consent history" title="View consent history" ng-click="view(pro.id)">View</a></gcms-modal></td>					
					</tr>
				</tbody>
				<tfoot>
					<tr>
						<!-- <td colspan="10" class="text-center">
                     <div st-pagination="" st-items-by-page="itemsByPage" st-displayed-pages="5"></div>
                     </td> -->
						<td colspan="8" class="text-center">
							<div st-items-by-page="20" st-pagination=""
								st-template="app/profile/list/pagination.custom.html"></div>
							<div>{{responseOnSearch}}</div>
						</td>
					</tr>
				</tfoot>
			</table>
		</div>
	</table>
</div>
<br />
<br />
</div>