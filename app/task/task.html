<h3 class="clearfix uploads">
	<div id="title" class="pull-left"
		style="font-size: 12px; margin-bottom: 15px; margin-top: -15px;">
		Below are the tasks associated to your identity. <strong>You
			are requested </strong>to <strong>upload</strong> the scanned EFPIA
		Cross-Border Consent forms you collected from HCPs or HCOs you
		interacted with.
	</div>



</h3>
<!--  <div ng-controller="FileManagerController" ng-init="login()"></div>  -->

<div class="panel panel-primary">
	<div class="panel-heading">Upload your documents-Automatic Match</div>
	<div class="container">
		<div class="row">
			<div class="col-sm-6">
				<div class="panel-body">
					<!-- <div>
						<gcms-modal template="bulk.upload.html"
							controller="ModalDefaultCtrl" ok="upload" content="uploader" 
							alt="Upload images"> <span class="btn btn-default"
							role="button">Select PDF file(s) to upload</span> </gcms-modal>

					</div> -->
					<div>
						<label class="fileContainer"> <a class="btn btn-default"
							role="button">Select files...</a> <input type="file"
							ngf-select="" ng-model="picFile" name="file"
							ngf-pattern="'image/*,application/pdf'" nv-file-select
							uploader="uploader" multiple="" accept="application/pdf" />
						</label>

					</div>
					<div class="queue">
						<div>
							Queue progress: {{uploader.queue.length}} File(s)
							<div class="progress" style="">
								<div class="progress-bar" role="progressbar"
									ng-style="{ 'width': uploader.progress + '%' }"
									style="width: 0%;"></div>
							</div>
						</div>
						
						
						<button type="button" ng-show="uploader.getNotUploadedItems().length " class="btn btn-success "
							ng-click="uploader.uploadAll()"
							style="color: white;">
							<span class="fa fa-upload"></span> Upload PDFs
						</button>
						
						{{uploader.queue.isSuccess}}
						
						<button type="button" ng-show="uploader.progress==100" class="btn btn-success "
							ng-click="upload()"
							style="color: white;">
							<span class="fa fa-spin fa-spinner "></span> Validate PDFs
						</button>
						
						<gcms-modal template="bulk.upload.html"
							controller="ModalDefaultCtrl" ok="" content="Result"
							alt="Upload images"> 
							<button ng-show="alerts.length > 0 == true" class="btn btn-success"
							style="color: white;">Uploaded PDF's Status</button></gcms-modal>
						
						<!--
						<button type="button" ng-show="uploader.getNotUploadedItems().length == true" class="btn btn-primary "
							ng-click="uploader.uploadAll()"
							ng-disabled="!uploader.getNotUploadedItems().length"
							disabled="disabled" style="color: white;">
							<span class="fa fa-upload"></span> Upload PDFs
						</button>
						<button type="button" ng-show="uploader.progress" class="btn btn-primary "
							ng-click="upload()"
							ng-disabled="!uploader.progress"
							disabled="disabled" style="color: white;">
							<span class="fa fa-spinner"></span> Process PDFs
						</button>
						 <button type="button" class="btn btn-success"
							ng-click="upload()" ng-disabled="!uploader.queue.length"
							disabled="disabled" style="background-color: green;">
							<span class="class=" fa fa-spinner fa-spin"></span>Process PDFs
						</button> -->
									

					</div>
				</div>
			</div>
			<!-- ngIf: alerts.length > 0 -->


			<div class="col-sm-5">
				<ul style="font-size: 12px;">
				 <li>Based on the QR code printed on the top-right corner of
						each form, the platform will try to <strong>automatically
							match the documents with the task.</strong>
					</li>
					<li>A succesful match will remove your task. if unsuccesful,
						the task will remain and you will manually attach the signed
						document.</li>
					<li>The platform accepts <strong>only PDF files</strong></li>
					<li>There are <b>scnned cpies</b> of the EFPIA cross-border
						consent forms<b>signed by the HCP/HCO</b>
					<li>Being the process facilitator between Transparency Team
						and the HCP / HCO,<strong>you are the responsible</strong> for the
						file content accuracy
					</li>
					<li><strong>Do not upload unsigned files!</strong></li>
				</ul>
			</div>
		</div>
		<div ng-if="alerts.length > 0">
			<alert ng-repeat="alert in alerts" type="{{alert.type}}"
				close="closeAlert($index)"> {{alert.msg}} </alert>
		</div>

	</div>
</div>
<div ng-include="'app/filemanager/templates' + '/modals.html'"></div> 
<div class="panel panel-primary table-responsive">
	<div class="panel-heading">Upload your documents - Manual Match</div>
	<div class="panel-body">


		<table class="table table-hover ">
			<div class="table-responsive">
				<!-- st-set-filter="myStrictFilter" -->
				<table st-set-filter="customFilter" st-table="displayedCollection"
					st-safe-src="TaskAttributes"
					class="table table-bordered table-striped table-highlight">
					<thead>
						<tr class="taskth"
							style="color: white; background-color: #337ab7;">
							<th
								style="font-size: 13px; font-family: sans-serif; padding-bottom: 25px;">Action</th>
							<th st-sort="id"
								style="font-size: 13px; font-family: sans-serif; padding-bottom: 25px;">Task
								ID</th>
							<th st-sort="consannexid.bpid.id"
								style="font-size: 13px; font-family: sans-serif; padding-bottom: 25px;">TR
								ID</th>
							<th st-sort="consannexid.bpid.lastName"
								style="font-size: 13px; font-family: sans-serif;">Last
								Name/Org Name</th>
							<th st-sort="consannexid.bpid.firstName"
								style="font-size: 13px; font-family: sans-serif; padding-bottom: 25px;">First
								Name</th>
							<th st-sort="consannexid.profilecountry.name"
								style="font-size: 13px; font-family: sans-serif;">Profile
								Country</th>
							<th st-sort="consannexid.eventname"
								style="font-size: 13px; font-family: sans-serif; padding-bottom: 25px;">Event
								Name</th>
							<th style="font-size: 13px; font-family: sans-serif;">Consent
								Status</th>
							<th st-sort="con.updatedDate"
								style="font-size: 13px; font-family: sans-serif;">Consent
								Updated Date</th>
							<th
								style="font-size: 13px; font-family: sans-serif; padding-bottom: 25px;">Task
								Status</th>
							<th style="font-size: 13px; font-family: sans-serif;">Initiated
								By</th>
							<th style="font-size: 13px; font-family: sans-serif;">Document
								Upload</th>
							<th
								style="font-size: 13px; font-family: sans-serif; padding-bottom: 25px;">Activity</th>
						</tr>

						<tr>
							<th></th>
							<th><input st-search="id" placeholder=" " class="form-control"
								type="search" /></th>
							<th><input st-search="consannexid.bpid.id" placeholder=" " class="form-control"
								type="search" /></th>
							<th><input st-search="consannexid.bpid.lastName"
								placeholder=" " class="form-control" type="search" /></th>
							<th><input st-search="consannexid.bpid.firstName"
								placeholder=" " class="form-control" type="search" /></th>
							<th><input st-search="consannexid.profilecountry.name"
								placeholder=" " class="form-control" type="search" /></th>
							<th><input st-search="consannexid.eventname" placeholder=" "
								class="form-control" type="search" /></th>
							<th><input st-search="" placeholder=" " class="form-control"
								type="search" /></th>
							<th><input st-search="" placeholder=" " class="form-control"
								type="search" /></th>
							<th><st-select-distinct collection="TaskAttributes"
									predicate="taskstatus"></st-select-distinct></th>
							<th><input st-search="" placeholder="" class="form-control"
								type="search" /></th>
							<th></th>
							<th></th>
						</tr>
					</thead>
					<tbody data-ng-repeat="con in displayedCollection" ng-switch
						on="con.taskstatus">
						<tr>
							<td><gcms-modal template="task.update.html"
									controller="ModalDefaultCtrl" content="con" ok="update"
									alt="Edit Task {{con.id}}"> <span
									class="glyphicon glyphicon-pencil" style="color: #337ab7;"></span>
								</gcms-modal> <gcms-modal template="task.delete.html"
									controller="ModalDefaultCtrl" content="con" ok="updateDelete"
									alt="Delete Task {{con.id}}"> <span>Undelete</span></td>
							<td>{{con.id}}</td>
							<td>{{con.consannexid.bpid.id}}</td>
							<td>{{con.consannexid.bpid.lastName}}</td>
							<td>{{con.consannexid.bpid.firstName}}</td>
							<td>{{con.consannexid.profilecountry.name}}</td>
							<td style="word-break: break-all ; width: 120px;">{{con.consannexid.eventname}}</td>
							<!-- <td>{{con.consannexid.consentstatus.consentName}}</td>  -->
							<td><gcms-idname id="con.consannexid.consentstatus.id"
									list="consentType"></gcms-idname></td>
							<td>{{con.updatedDate | date:'dd-MM-yyyy'}}</td>
							<td>{{con.taskstatus}}</td>
							<td>{{con.createdBy}}</td>
							<td>
								<div ng-if="con.consannexid.annnexlocation==undefined">
								
								<div ng-controller="FileManagerController">
    							<a herf="" ng-show="config.allowedActions.upload" ng-click="modal('uploadfile')">
        						 Upload
     				    		</a>                    
								</div>
								
								</div>
								<div ng-if="con.consannexid.annnexlocation!=undefined">View
									Change</div>

							</td>
							<td>
								<div ng-switch="con.taskstatus">
									<div ng-switch-when="INCOMPLETE">
										<gcms-modal template="task.reassign.html"
											controller="ModalDefaultCtrl" content="con" ok="updateReassign"
											alt="{{con.id}}"> <!-- <span class="glyphicon glyphicon-refresh" style="color:#337ab7;  margin-left: 20px; margin-top: 8px;" ></span> -->
										<span>Reassign</span> </gcms-modal>
									</div>
									<div ng-switch-when="COMPLETED">
										<gcms-modal template="task.revoke.html"
											controller="ModalDefaultCtrl" content="con" ok="revoke"
											alt="Revoke Consent{{con.id}}"> <span>Revoke</span>
										</gcms-modal>

										<!-- 'id': 'Task ID', 'consannexid.eventname': 'Event Name', 'taskstatus': 'Task Status' -->
										<span ng-mouseover="value(con)"> <a ng-json-export-excel
											data="dldata"
											report-fields="{
											'A':'Record_type',																						
											'consannexid.bpid.id': 'TR Party ID',
											'consannexid.bpid.profileType': 'Party_Type',
											'consannexid.bpid.organisationName': 'Organization',
											'consannexid.bpid.lastName': 'Party Last Name',
											'consannexid.bpid.firstName': 'Party First Name',
											'A':'Party Middle Name',
											'A':'Party Credential',
											'A':'Party Primary Specialty',
											'A':'Party Title',
											'A':'Party Prefix',
											'A':'Party Suffix Name',
											'A':'Party Email Address',
											'A':'Party Role/Type of Attendee',
											'A':'Source System Identifier for Party',
											'A':'Party ID_1',
											'A':'Party ID Type_1',
											'A':'Party ID_2',
											'A':'Party ID Type_2',
											'A':'Party ID_3',
											'A':'Party ID Type_3',
											'A':'Party ID_4',
											'A':'Party ID Type_4',
											'A':'Party ID_5',
											'A':'Party ID Type_5',
											'A':'Party ID_6',
											'A':'Party ID Type_6',
											'A':'Party ID_7',
											'A':'Party ID Type_7',
											'A':'Party ID_8',
											'A':'Party ID Type_8',
											'A':'Party ID_9',
											'A':'Party ID Type_9',
											'A':'Party ID_10',
											'A':'Party ID Type_10',
											'A':'Party Address Type',																						
											'AddressType': 'AddressType',
											'consannexid.bpid.address': 'Party Address Line 1',
											'consannexid.bpid.address2': 'Party Address Line 2',
											'consannexid.bpid.address3': 'Party Address Line 3',
											'consannexid.bpid.address4': 'Party Address Line 4',
											'A':'Party Region',
											'A':'Party County',
											'A':'Party Province',
											'A':'Party Canton',										
											'consannexid.bpid.city': 'Party City',
											'A':'Party Postal/Zip Code',
											'A':'Party State',
											'consannexid.profilecountry.code': 'Party Postal/Zip Code',
											'consannexid.profilecountry.isoCode': 'Party Country Code (2 character ISO)',
											'A':'Source System Identifier for Party's Address',
											'A':'Consent_editor',
											'A':'Consent_required',											
											'consannexid.consentstatus.consentStatus': 'Consent_Status',
											'A':'Consent_status_reason',
											'consannexid.consentstartdate': 'Consent_Start_Date',
											'consannexid.consentenddate': 'Consent_End_Date',
											'A':'Active Flag SAP',
											'A':'Parent Institution ID', 
											'A':'Parent  Institution Type',
											'A':'FCPA Type',
											'A':'File Name',
											'Source System Code[P]': 'Source System Code[P]',
											'A':'Source Sub-System Code',
											'A':'Custom/Flex Field 1',
											'A':'Custom/Flex Field 2',
											'A':'Custom/Flex Field 3',
											'A':'Custom/Flex Field 4',
											'A':'Custom/Flex Field 5',
											'A':'Custom/Flex Field 6',
											'A':'Custom/Flex Field 7',
											'A':'Custom/Flex Field 8',
											'A':'Custom/Flex Field 9',
											'A':'Custom/Flex Field 10',
											'A':'Custom/Flex Field 11',
											'A':'Custom/Flex Field 12',
											'A':'Custom/Flex Field 13',
											'A':'Custom/Flex Field 14',
											'A':'Custom/Flex Field 15',
											'A':'Custom/Flex Field 16',
											'A':'Custom/Flex Field 17',
											'A':'Custom/Flex Field 18',
											'A':'Custom/Flex Field 19',
											'A':'Custom/Flex Field 20'											
											}"
											filename="'Data'"> DLU-P </a> <a ng-json-export-excel
											data="dldata"
											report-fields="{
											'consannexid.eventname': 'Event Name',
											'A': 'Name of Event Venue',
											'A': 'Event Co-ordinator',
											'A': 'Event Start Date',
											'A' : 'Event End Date',
											'A' : 'Event Agenda',
											'A': 'Event Managed by Pfizer?',
											'A' : 'Event Type',	
											'A': 'Count of Covered Recipient Attendees',
											'A': 'Count of non Covered Recipient Attendees',
											'A': 'Count of Pfizer employee attendees',
											'A': 'Count of total invited',
											'A': 'Source System Identifier for Event',
											'A': 'Event Address Line 1',
											'A': 'Event Address Line 2',
											'A': 'Event Address Line 3',
											'A'  : 'Event Address Line 4',
											'A':'Event Region',
											'A':'Event County',
											'A':'Event Province',	
											'A':'Event Canton',
											'A':'Event City',
											'A':'Event Postal/Zip Code',
											'A':'Event State',
											'A':'Event Country Code (2 character ISO)',
											'A': 'Transaction Currency',
											'A': 'Covered Recipient Expense Amount in Transaction Currency',
											'A' : 'Expense Type Code',
											'A': 'Transaction Reportable Date',
									       'consannexid.profilecountry.code': 'Transaction Reporting Country',
											'A': 'VAT',
											'A':'Withholding Tax',
								         'consannexid.consentstatus.consentName': 'Consent',
											'A':'Source System Identifier for Transfer of Value ',	
											'A':'Payment Method',
											'A':'Check Number',
											'A':'Purpose of Payment or Event',
											'A':'Pfizer Legal Entity',
									                    'consannexid.pocode': 'Purchase Order Number',
											'A':'GL Code',
											'A':'Is the payment made to person or organization?',
										           'consannexid.bpid.id': 'Covered Recipient ID',
										  'consannexid.bpid.profileType': 'Covered Recipient ID Type',	
											'A':'Covered Recipient Licensed State',
								                     'consannexid.bpid.lastName': 'Covered Recipient Last Name/Organization Name for HCO',
										    'consannexid.bpid.firstName': 'Covered Recipient First Name',
											'A':'Covered Recipient Middle Name',
											'A':'Covered Recipient Credential',
											'A':'Covered Recipient Primary Specialty',
											'A':'Covered Recipient Suffix Name',
											'A':'Covered Recipient Email Address',	
											'A':'Covered Recipient Role/Type of Attendee',
											'A':'Source System Identifier for Covered Recipient',
										      'consannexid.bpid.address': 'Covered Recipient Address Line 1',
										     'consannexid.bpid.address2': 'Covered Recipient Address Line 2',
									             'consannexid.bpid.address3': 'Covered Recipient Address Line 3',
									             'consannexid.bpid.address4': 'Covered Recipient Address Line 4',
											'A':'Covered Recipient Region',
											'A':'Covered Recipient County',
											'A':'Covered Recipient Province',' 
										    'A':'Covered Recipient Canton',
                       						'consannexid.bpid.city': 'Covered Recipient City',		
											'A':'Covered Recipient State',
											'A':'Covered Recipient Postal/Zip Code',
											'A':'Source System Identifier for Covered Recipient's Address',
											'A':'Hotel/Lodging Name',
											'A':'Hotel/Lodging Check In Date',
											'A':'Hotel/Lodging Check Out Date',	
											'A':'Number of accomodation nights',
											'A':'Hotel/Lodging Address',
											'A':'FCPA Reference/In-country FCPA Number/FCPA Project ID',
											'A':'FCPA Transaction Type',
											'A':'FCPA Transaction Type for Reporting',
											'A':'FCPA Vendor Type',
											'A':'Product 1',
											'A':'Product 2',
											'A':'Product 3',
											'A':'Product 4',
											'A':'Product 5',
											'A':'Name of Research Study',	
											'A':'Research Objectives / Context of Research',
											'A':'Research Type/PreClinicalResearchIndicator',
											'A':'Research Expenditure Category',
											'A':'Research Information Link (e.g. web URL),
											'A':'Clinical Trials .GOV Identifier (NCT)',
											'A':'Protocol ID/Protocol Number',
											'A':'Protocol Program Code',
											'A':'Site Number',
											'A':'Site Status',
											'A':'Enrollment Number',
											'A':'PI Disclose Indicator',
											'A':'Delay in Publication Reason ',	
											'A':'Payee As on the Check',
											'A':'Payee ID',
											'A':'Payee ID Type',
											'A':'Source System Payee Identifier',
											'A':'Payee Address Line 1',
											'A':'Payee Address Line 2',
											'A':'Payee Address Line 3',
											'A':'Payee Address Line 4',
											'A':'Payee Region',
											'A':'Payee County',
											'A':'Payee Province',
											'A':'Payee Canton',	
											'A':'Payee City',
											'A':'Payee Postal/Zip Code',
											'A':'Payee Country Code (2 character ISO)',
											'A':'Payee State',
											'A':'Source Item ID'
											'A':'Pfizer Item ID',
											'A':'Item Description',
											'A':'Item Quantity Distributed',
											'A':'Item Quantity Requested',
											'A':'Requestor ID',
											'A':'Requestor Last Name',
											'A':'Requestor Middle Name',	
											'A':'Requestor Email Address',
											'A':'Requestor Territory ID',
											'A':'Data Provider Name',
											'A':'Name of Contact at Data Provider',
											'A':'Phone Number of Contact at Data Provider',
											'A':'Email of Contact at Data Provider',
											'A':'Transaction Comments',
											'A':'File Name',
											'A':'Transaction Reportable Indicator',
											'A':'Transaction Reportable Comment',
											'A':'Source Sub-System Code',										
											'A': 'Custom/Flex Field 1',	
											'A': 'Custom/Flex Field 2',
											'A': 'Custom/Flex Field 3',
											'A': 'Custom/Flex Field 4',
											'A': 'Custom/Flex Field 5',
											'A': 'Custom/Flex Field 6',
											'A': 'Custom/Flex Field 7',
											'A': 'Custom/Flex Field 8',
											'A': 'Custom/Flex Field 9',
											'A': 'Custom/Flex Field 10',
											'A': 'Custom/Flex Field 11',
											'A': 'Custom/Flex Field 12',
											'A': 'Custom/Flex Field 13',
											'A': 'Custom/Flex Field 14',
											'A': 'Custom/Flex Field 15',
											'A': 'Custom/Flex Field 16',
											'A': 'Custom/Flex Field 17',
											'A': 'Custom/Flex Field 18',
											'A': 'Custom/Flex Field 19',
											'A': 'Custom/Flex Field 20',
											'A': 'Custom/Flex Field 21',
											'A': 'Custom/Flex Field 22',
											'A': 'Custom/Flex Field 23',
											'A': 'Custom/Flex Field 24',	
											'A': 'Custom/Flex Field 25',
											'A': 'Custom/Flex Field 26',
											'A': 'Custom/Flex Field 27',
											'A': 'Custom/Flex Field 28',
											'A': 'Custom/Flex Field 29',
											'A': 'Custom/Flex Field 30',
											'A': 'Custom/Flex Field 31',
											'A': 'Custom/Flex Field 32',
											'A': 'Custom/Flex Field 33',
											'A': 'Custom/Flex Field 34',
											'A': 'Custom/Flex Field 35',
											'A': 'Custom/Flex Field 36',
											'A': 'Custom/Flex Field 37',
											'A': 'Custom/Flex Field 38',
											'A': 'Custom/Flex Field 39',
											'A': 'Custom/Flex Field 40',
											'A': 'Custom/Flex Field 41',
											'A': 'Custom/Flex Field 42',
											'A': 'Custom/Flex Field 43',
											'A': 'Custom/Flex Field 44',
											'A': 'Custom/Flex Field 45',
											'A': 'Custom/Flex Field 46',
											'A': 'Custom/Flex Field 47',
											'A': 'Custom/Flex Field 48',
											'A': 'Custom/Flex Field 49',
											'A': 'Custom/Flex Field 50',	
										    'Transaction Comments': 'Transaction Comments',
											'Source System Code[T]': 'Source System Code[T]'
											}"
											filename="'Data'"> DLU-T </a>
										</span>
									</div>
									<div ng-switch-when="DELETED">
										<gcms-modal template="task.undelete.html"
											controller="ModalDefaultCtrl" content="con" ok="updateUnDelete"
											alt="{{con.id}}"> <span>Undelete</span>
										</gcms-modal>
									</div>
								</div>

							</td>

						</tr>

					</tbody>
					<tfoot>
						<tr>
							<td colspan="13" class="text-center">
								<div st-items-by-page="5" st-pagination=""
									st-template="app/task/pagination.custom.html"></div>
							</td>
						</tr>
					</tfoot>
				</table>
			</div>
		</table>

	</div>
</div>
</div>





